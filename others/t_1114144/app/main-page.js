"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var viewModel = require("./main-view-model");
var frameModule = require("tns-core-modules/ui/frame");
function onPageLoaded(args) {
    var page = args.object;
    page.bindingContext = new viewModel.ViewModel();
}
exports.onPageLoaded = onPageLoaded;
function onItemSwiping(args) {
}
exports.onItemSwiping = onItemSwiping;
function onSwipeCellProgressChanged(args) {
    var swipeLimits = args.data.swipeLimits;
    var currentItemView = args.object;
    if (args.data.x > 200) {
        console.log("Notify perform left action");
    }
    else if (args.data.x < -200) {
        console.log("Notify perform right action");
    }
}
exports.onSwipeCellProgressChanged = onSwipeCellProgressChanged;
// << listview-swipe-action-release-notify
// >> listview-swipe-action-release-limits
function onSwipeCellStarted(args) {
    var swipeLimits = args.data.swipeLimits;
    var swipeView = args.object;
    var leftItem = swipeView.getViewById('mark-view');
    var rightItem = swipeView.getViewById('delete-view');
    swipeLimits.left = leftItem.getMeasuredWidth();
    swipeLimits.right = rightItem.getMeasuredWidth();
    swipeLimits.threshold = leftItem.getMeasuredWidth() / 1.4;
}
exports.onSwipeCellStarted = onSwipeCellStarted;
// << listview-swipe-action-release-limits
// >> listview-swipe-action-release-execute
function onSwipeCellFinished(args) {
    var listView = frameModule.topmost().currentPage.getViewById("listView");
    console.log("onSwipeCellFinished");
}
exports.onSwipeCellFinished = onSwipeCellFinished;
function onLeftSwipeClick(args) {
    var listView = frameModule.topmost().currentPage.getViewById("listView");
    console.log("Left swipe click");
    listView.notifySwipeToExecuteFinished();
}
exports.onLeftSwipeClick = onLeftSwipeClick;
function onRightSwipeClick(args) {
    var listView = frameModule.topmost().currentPage.getViewById("listView");
    console.log("Right swipe click");
    var viewModel = listView.bindingContext;
    viewModel.dataItems.splice(viewModel.dataItems.indexOf(args.object.bindingContext), 1);
}
exports.onRightSwipeClick = onRightSwipeClick;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNkNBQWdEO0FBR2hELHVEQUEwRDtBQUcxRCxzQkFBNkIsSUFBSTtJQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRXZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDcEQsQ0FBQztBQUpELG9DQUlDO0FBRUQsdUJBQThCLElBQTBDO0FBQ3hFLENBQUM7QUFERCxzQ0FDQztBQUVELG9DQUEyQyxJQUEwQztJQUNqRixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUN4QyxJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRWxDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0wsQ0FBQztBQVRELGdFQVNDO0FBQ0QsMENBQTBDO0FBRTFDLDBDQUEwQztBQUMxQyw0QkFBbUMsSUFBMEM7SUFDekUsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDeEMsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM1QixJQUFJLFFBQVEsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFrQixXQUFXLENBQUMsQ0FBQztJQUNuRSxJQUFJLFNBQVMsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFrQixhQUFhLENBQUMsQ0FBQztJQUN0RSxXQUFXLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9DLFdBQVcsQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDakQsV0FBVyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxHQUFHLENBQUM7QUFFOUQsQ0FBQztBQVRELGdEQVNDO0FBQ0QsMENBQTBDO0FBRTFDLDJDQUEyQztBQUMzQyw2QkFBb0MsSUFBMEM7SUFDMUUsSUFBSSxRQUFRLEdBQStCLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3JHLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUV2QyxDQUFDO0FBSkQsa0RBSUM7QUFFRCwwQkFBaUMsSUFBc0M7SUFDbEUsSUFBSSxRQUFRLEdBQStCLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RHLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNoQyxRQUFRLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztBQUM1QyxDQUFDO0FBSkQsNENBSUM7QUFFRCwyQkFBa0MsSUFBSTtJQUNqQyxJQUFJLFFBQVEsR0FBK0IsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDdEcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2pDLElBQUksU0FBUyxHQUE2QyxRQUFRLENBQUMsY0FBYyxDQUFDO0lBQ2xGLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0YsQ0FBQztBQUxELDhDQUtDIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgdmlld01vZGVsID0gcmVxdWlyZShcIi4vbWFpbi12aWV3LW1vZGVsXCIpO1xuaW1wb3J0IGxpc3RWaWV3TW9kdWxlID0gcmVxdWlyZShcIm5hdGl2ZXNjcmlwdC10ZWxlcmlrLXVpLXByby9saXN0dmlld1wiKTtcbmltcG9ydCB2aWV3TW9kdWxlID0gcmVxdWlyZSgndG5zLWNvcmUtbW9kdWxlcy91aS9jb3JlL3ZpZXcnKTtcbmltcG9ydCBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ0bnMtY29yZS1tb2R1bGVzL3VpL2ZyYW1lXCIpO1xuaW1wb3J0IHV0aWxzTW9kdWxlID0gcmVxdWlyZShcInRucy1jb3JlLW1vZHVsZXMvdXRpbHMvdXRpbHNcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBvblBhZ2VMb2FkZWQoYXJncykge1xuICAgIHZhciBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbmV3IHZpZXdNb2RlbC5WaWV3TW9kZWwoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uSXRlbVN3aXBpbmcoYXJnczogbGlzdFZpZXdNb2R1bGUuU3dpcGVBY3Rpb25zRXZlbnREYXRhKSB7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblN3aXBlQ2VsbFByb2dyZXNzQ2hhbmdlZChhcmdzOiBsaXN0Vmlld01vZHVsZS5Td2lwZUFjdGlvbnNFdmVudERhdGEpIHtcbiAgICB2YXIgc3dpcGVMaW1pdHMgPSBhcmdzLmRhdGEuc3dpcGVMaW1pdHM7XG4gICAgdmFyIGN1cnJlbnRJdGVtVmlldyA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKGFyZ3MuZGF0YS54ID4gMjAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZ5IHBlcmZvcm0gbGVmdCBhY3Rpb25cIik7XG4gICAgfSBlbHNlIGlmIChhcmdzLmRhdGEueCA8IC0yMDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOb3RpZnkgcGVyZm9ybSByaWdodCBhY3Rpb25cIik7XG4gICAgfVxufVxuLy8gPDwgbGlzdHZpZXctc3dpcGUtYWN0aW9uLXJlbGVhc2Utbm90aWZ5XG5cbi8vID4+IGxpc3R2aWV3LXN3aXBlLWFjdGlvbi1yZWxlYXNlLWxpbWl0c1xuZXhwb3J0IGZ1bmN0aW9uIG9uU3dpcGVDZWxsU3RhcnRlZChhcmdzOiBsaXN0Vmlld01vZHVsZS5Td2lwZUFjdGlvbnNFdmVudERhdGEpIHtcbiAgICB2YXIgc3dpcGVMaW1pdHMgPSBhcmdzLmRhdGEuc3dpcGVMaW1pdHM7XG4gICAgdmFyIHN3aXBlVmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgIHZhciBsZWZ0SXRlbSA9IHN3aXBlVmlldy5nZXRWaWV3QnlJZDx2aWV3TW9kdWxlLlZpZXc+KCdtYXJrLXZpZXcnKTtcbiAgICB2YXIgcmlnaHRJdGVtID0gc3dpcGVWaWV3LmdldFZpZXdCeUlkPHZpZXdNb2R1bGUuVmlldz4oJ2RlbGV0ZS12aWV3Jyk7XG4gICAgc3dpcGVMaW1pdHMubGVmdCA9IGxlZnRJdGVtLmdldE1lYXN1cmVkV2lkdGgoKTtcbiAgICBzd2lwZUxpbWl0cy5yaWdodCA9IHJpZ2h0SXRlbS5nZXRNZWFzdXJlZFdpZHRoKCk7XG4gICAgc3dpcGVMaW1pdHMudGhyZXNob2xkID0gbGVmdEl0ZW0uZ2V0TWVhc3VyZWRXaWR0aCgpIC8gMS40O1xuXG59XG4vLyA8PCBsaXN0dmlldy1zd2lwZS1hY3Rpb24tcmVsZWFzZS1saW1pdHNcblxuLy8gPj4gbGlzdHZpZXctc3dpcGUtYWN0aW9uLXJlbGVhc2UtZXhlY3V0ZVxuZXhwb3J0IGZ1bmN0aW9uIG9uU3dpcGVDZWxsRmluaXNoZWQoYXJnczogbGlzdFZpZXdNb2R1bGUuU3dpcGVBY3Rpb25zRXZlbnREYXRhKSB7XG4gICAgdmFyIGxpc3RWaWV3ID0gPGxpc3RWaWV3TW9kdWxlLlJhZExpc3RWaWV3PmZyYW1lTW9kdWxlLnRvcG1vc3QoKS5jdXJyZW50UGFnZS5nZXRWaWV3QnlJZChcImxpc3RWaWV3XCIpO1xuICAgIGNvbnNvbGUubG9nKFwib25Td2lwZUNlbGxGaW5pc2hlZFwiKTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25MZWZ0U3dpcGVDbGljayhhcmdzOiBsaXN0Vmlld01vZHVsZS5MaXN0Vmlld0V2ZW50RGF0YSkge1xuICAgICB2YXIgbGlzdFZpZXcgPSA8bGlzdFZpZXdNb2R1bGUuUmFkTGlzdFZpZXc+ZnJhbWVNb2R1bGUudG9wbW9zdCgpLmN1cnJlbnRQYWdlLmdldFZpZXdCeUlkKFwibGlzdFZpZXdcIik7XG4gICAgY29uc29sZS5sb2coXCJMZWZ0IHN3aXBlIGNsaWNrXCIpO1xuICAgIGxpc3RWaWV3Lm5vdGlmeVN3aXBlVG9FeGVjdXRlRmluaXNoZWQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uUmlnaHRTd2lwZUNsaWNrKGFyZ3MpIHtcbiAgICAgdmFyIGxpc3RWaWV3ID0gPGxpc3RWaWV3TW9kdWxlLlJhZExpc3RWaWV3PmZyYW1lTW9kdWxlLnRvcG1vc3QoKS5jdXJyZW50UGFnZS5nZXRWaWV3QnlJZChcImxpc3RWaWV3XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiUmlnaHQgc3dpcGUgY2xpY2tcIik7XG4gICAgdmFyIHZpZXdNb2RlbDogdmlld01vZGVsLlZpZXdNb2RlbCA9IDx2aWV3TW9kZWwuVmlld01vZGVsPmxpc3RWaWV3LmJpbmRpbmdDb250ZXh0O1xuICAgIHZpZXdNb2RlbC5kYXRhSXRlbXMuc3BsaWNlKHZpZXdNb2RlbC5kYXRhSXRlbXMuaW5kZXhPZihhcmdzLm9iamVjdC5iaW5kaW5nQ29udGV4dCksIDEpO1xufVxuIl19